/*!
 * @ProjectName micro-definition
 * @Version 0.0.1
 * @Author lixinliang(https://github.com/lixinliang)
 * @Update 2016-09-24 11:26:33 pm
 */
!function(n){function e(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return n[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e){"use strict";function t(n){throw new TypeError("micro-definition: "+n)}function o(n,e,t){var r=n.length;r?!function(){var c=function(){r--,r||t(e.apply(window,l))},d=function(n,e,t,r){var i=n.dependency,u=n.content,f=new Function("return "+u)();o(i,f,function(n){a[e]=l[t]=n,c(),r()})},l=[];n.forEach(function(n,e){if("function"==typeof u[n]&&(n=u[n].call(u)),a[n])l[e]=a[n],c();else{var t=i(n);t?d(t,n,e,function(){}):u[n]?f[n]?f[n].push(function(){l[e]=a[n],c()}):!function(){f[n]=[];var t=document.createElement("script");t.src=u[n],t.onload=function(){document.head.removeChild(t);var o=i(n);d(o,n,e,function(){f[n].forEach(function(n){n()})})},document.head.appendChild(t)}():(a[n]=l[e]=void 0,c())}})}():t(e())}function r(n,e,r){if(arguments.length<2&&t("2 arguments required at least."),"string"!=typeof n?(r=e,e=n,n=null):n||t("Module id can not be empty."),e instanceof Array||(r=e,e=[]),"function"!=typeof r&&t("Module should be a function."),n){i(n,{dependency:e,timestamp:+new Date,content:r.toString()});var u=c("modules")||{};u[n]="",c("modules",u)}else o(e,r,function(){})}var i=microStorage("micro-definition"),c=microStorage("micro-definition-record"),u={},a={},f={};r.alias=function(n){for(var e in n)u[e]=n[e]},r.list=function(){var n={},e=c("modules")||{};for(var t in e)n[t]=i(t);return n},r.version="0.0.1",window.define=r}]);